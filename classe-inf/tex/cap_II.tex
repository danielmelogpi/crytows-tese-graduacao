\chapter{Desafios da criptografia fim a fim}
\label{cap:desafiosCriptoFim}

%% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
A criptografia fim a fim é definida pela implementação de técnicas que garantam que somente o remetente e o destinatário tem acesso às mensagens trocadas, sendo computacionalmente inviável que alguém as leia, seja por meio de interceptação ou acesso indevido aos dispositivos físicos envolvidos. Esse tipo de criptografia não tem sido historicamente desenvolvida com foco no usuário final. Como explorado por Sheng et Al \cite{sheng2006johnny}, várias dificuldades são encontradas por usuários finais quando é colocada à prova a usabilidade das ferramentas para criptografia avaliadas. Verificamos mais à frente como algumas ferramentas com essa proposta acessam o chaveiro criptográfico.

Neste trabalho exploramos a ideia de que o desenvolvimento de aplicações que usem os serviços de criptografia oferecidos por um chaveiro PGP pode ser simplificado. O experimento explorado em seções não trata a usabilidade final, que é delegada à aplicação OpenKeyChain \cite{openKeyChain}. Seu escopo limita-se à exploração de um facilitador de uso do chaveiro por desenvolvedores, simplificando o desenvolvimento de aplicações que precisem fazer uso de tais recursos de segurança.

Um dos grandes desafios dos sistemas operacionais modernos está na sua capacidade de manter a segurança dos dados de seus usuários. A segurança desses dados deve observar alguns conceitos fundamentais, como a confidencialidade - manter o acesso à informação somente à quem tem esse direito - e a integridade - a certeza de que o conteúdo não foi corrompido, seja por acidente ou de forma proposital.

Frequentemente os sistemas tem adotado alguma tecnologia para proteger as mensagens trocadas por meio de redes, como a internet.São exemplos os protocolos protegidos por camada de segurança SSL, como o HTTPS, SMTPS, para troca de hipertexto e e-mail, respectivamente. Essa estratégia busca impedir que mensagens interceptadas possam ser lidas por atacantes \cite{naylor2014cost}. Também torna computacionalmente complexo introduzir conteúdo nas mensagens sem que isso seja notado, preservando sua integridade.

 Esses meios, entretanto, somente protegem a mensagem no caminho. Quando aplicado à troca de mensagens, isso significa que o provedor do serviço terá acesso ao seu conteúdo se ele não for previamente encriptado e ele será armazenado sem proteção. Conforme exemplificado no anexo 1, o processamento das mensagens por provedores de e-mail é uma prática comum nessas ferramentas \cite{rushe2013google}.
 
A criptografia assimétrica propõe um modelo de solução para o problema de proteção dos dados armazenados. Cada usuário gera um par de chaves criptográficas, sendo uma de propósito privado e a outra de propósito público. A chave privada é usada para assinar e descriptografar as mensagens. A chave pública, por sua vez é usada para verificar assinaturas e criptografar as mensagens, que só poderão ser lidas por quem possuir a chave privada equivalente. Isso cria um mecanismo onde somente o destinatário pode ler as mensagens, visando a confidencialidade. Além disso, a capacidade de assinatura provê o recurso de não-repúdio e integridade da comunicação. Se esses recursos forem empregados na troca de mensagens temos um exemplo de criptografia fim a fim.

Outro componente essencial na criptografia fim a fim é a proteção das chaves privadas, geralmente realizado por meio de um software denominado chaveiro criptográfico. O chaveiro tem como funções a proteção das chaves privadas, a importação de chaves públicas alheias, revogação de chaves comprometidas e configuração do nível de confiança. Sendo a camada responsável por estas tarefas, está fortemente ligado à facilidade de uso das chaves pelo usuário final. O chaveiro desempenha a função crucial de proteção das chaves privadas por meio de senha. A solução adotada em implementações como o GnuPG cria um chaveiro na estação de trabalho do usuário durante a instalação, que pode então ser usado diretamente por meio de linha de comando ou acessado por através de bibliotecas específicas por softwares de terceiros.

